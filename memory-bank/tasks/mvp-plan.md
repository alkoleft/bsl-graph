# План разработки MVP - JSON DB для системы анализа конфигураций 1С

## Цель MVP
Создать базовую версию системы хранения и поиска полных данных объектов 1С в JSON формате с интеграцией в существующую систему метаданных и анализом кодовой базы.

## Критерии успеха MVP
1. Анализ кодовой базы с построением AST и выгрузкой в граф
2. Сохранение всех типов объектов метаданных 1С в MongoDB
3. Полнотекстовый поиск по содержимому объектов
4. Интеграция с существующей системой метаданных
5. REST API для доступа к данным
6. Базовый веб-интерфейс для просмотра и поиска

## Задачи MVP

### Итерация 0 (1 неделя) - Анализ кода

| № | Задача | Приоритет | Трудозатраты | Зависимости |
|---|--------|-----------|--------------|-------------|
| 0 | [Анализ кодовой базы с BSL Parser](task0-code-analysis.md) | Высокий | 4-5 дней | - |

**Результат итерации 0:** Система анализа BSL кода с построением AST и выгрузкой в графовую базу.

### Итерация 1 (1-2 недели) - Базовая инфраструктура

| № | Задача | Приоритет | Трудозатраты | Зависимости |
|---|--------|-----------|--------------|-------------|
| 1 | [Настройка MongoDB для JSON DB](task1-mongodb-setup.md) | Высокий | 1-2 дня | - |
| 2 | [Доменные модели для JSON DB](task2-domain-models.md) | Высокий | 2-3 дня | #1 |
| 3 | [Сервис сериализации объектов](task3-serialization-service.md) | Высокий | 3-4 дня | #2 |
| 4 | [JSON DB Repository](task4-json-db-repository.md) | Высокий | 3-4 дня | #2 |

**Результат итерации 1:** Работающая инфраструктура для сохранения и получения объектов метаданных в JSON формате.

### Итерация 2 (1-2 недели) - Интеграция и поиск

| № | Задача | Приоритет | Трудозатраты | Зависимости |
|---|--------|-----------|--------------|-------------|
| 5 | [Интеграция с системой метаданных](task5-metadata-integration.md) | Высокий | 2-3 дня | #3, #4 |
| 6 | [Полнотекстовый поиск по объектам](task6-fulltext-search.md) | Средний | 2-3 дня | #4, #5 |
| 7 | [Расширение API для JSON DB](task7-api-extensions.md) | Средний | 2-3 дня | #4, #5, #6 |

**Результат итерации 2:** Полная интеграция с существующей системой, работающий поиск и API.

### Итерация 3 (1 неделя) - Веб-интерфейс и финальное тестирование

| № | Задача | Приоритет | Трудозатраты | Зависимости |
|---|--------|-----------|--------------|-------------|
| 8 | [Расширение веб-интерфейса для JSON DB](task8-web-interface.md) | Средний | 3-4 дня | #6, #7 |
| 9 | Комплексное тестирование MVP | Высокий | 1-2 дня | #0-#8 |
| 10 | Документация и инструкции по использованию | Средний | 1 день | #0-#8 |

**Результат итерации 3:** Полностью функциональный MVP с веб-интерфейсом и документацией.

## График разработки

```
Неделя 1:
[#####] Задача #0 - Анализ кодовой базы с BSL Parser

Неделя 2:
[#####] Задача #1 - Настройка MongoDB
[#####] Задача #2 - Доменные модели
[###--] Задача #3 - Сервис сериализации

Неделя 3:
[--###] Задача #3 - Сервис сериализации (продолжение)
[#####] Задача #4 - JSON DB Repository
[##---] Задача #5 - Интеграция с системой метаданных

Неделя 4:
[--###] Задача #5 - Интеграция с системой метаданных (продолжение)
[#####] Задача #6 - Полнотекстовый поиск
[#####] Задача #7 - Расширение API

Неделя 5:
[#####] Задача #8 - Расширение веб-интерфейса
[##---] Задача #9 - Комплексное тестирование
[#----] Задача #10 - Документация
```

## Риски и их митигация

| Риск | Вероятность | Влияние | Стратегия митигации |
|------|-------------|---------|---------------------|
| Сложности с парсингом сложных модулей 1С | Высокая | Высокое | Поэтапный подход, начиная с простых модулей, тестирование на разных типах кода |
| Проблемы с производительностью MongoDB на больших объемах данных | Средняя | Высокое | Оптимизация индексов, тестирование на реальных данных |
| Сложности с сериализацией сложных объектов bsl-mdclasses | Высокая | Среднее | Создание кастомных сериализаторов, пошаговый подход |
| Несовместимость с существующей системой | Низкая | Высокое | Тщательное тестирование интеграции, минимальные изменения |
| Недостаточная производительность полнотекстового поиска | Средняя | Среднее | Оптимизация запросов, кэширование результатов |

## Технические зависимости

- BSL Parser 0.17.0 или выше
- NebulaGraph для хранения графов
- MongoDB 7.0
- Spring Data MongoDB
- Jackson для сериализации/десериализации
- Существующая система метаданных
- bsl-mdclasses библиотека

## Следующие шаги после MVP

1. Расширенный анализ кода и AST графы
2. Анализ запросов
3. RAG система для интеллектуального поиска
4. Расширенная визуализация данных

## Команда разработки

- Team Lead: TBD
- Backend Developer (Анализ кода): TBD
- Backend Developer (MongoDB): TBD
- Backend Developer (Сериализация): TBD
- Backend Developer (API): TBD
- Frontend Developer: TBD
- QA Engineer: TBD
