# Задача #0: Анализ кодовой базы с BSL Parser

## Описание
Реализовать анализ модулей 1С с использованием BSL Parser, построение AST дерева и выгрузку результатов в графовую базу данных.

## Цель
Создать систему анализа BSL кода для извлечения структуры модулей, процедур, функций и их зависимостей с последующим сохранением в NebulaGraph.

## Требования
1. Интеграция с BSL Parser:
   - Настройка парсера для работы с модулями 1С
   - Обработка всех типов модулей (общие, объектные, формы)
   - Извлечение AST (Abstract Syntax Tree) из кода

2. Разработать модель для представления кода:
   - `CodeModule` - представление модуля
   - `Procedure` - представление процедуры
   - `Function` - представление функции
   - `Variable` - представление переменной
   - `MethodCall` - представление вызова метода
   - `Dependency` - представление зависимости

3. Создать AST Visitor для обхода синтаксического дерева:
   - Извлечение процедур и функций
   - Определение параметров и возвращаемых значений
   - Анализ вызовов методов
   - Определение переменных и их использования

4. Реализовать выгрузку в графовую базу:
   - Создание узлов для модулей, процедур, функций
   - Создание связей для вызовов и зависимостей
   - Связывание с существующими узлами метаданных
   - Сохранение дополнительных свойств (строки кода, параметры)

## Технические детали
- Использовать BSL Parser 0.17.0 или выше
- Реализовать собственный BSL Visitor для обхода AST
- Интегрировать с существующим NebulaGraph сервисом
- Создать новые типы узлов и связей в графе:
  - Узлы: `Module`, `Procedure`, `Function`, `Variable`
  - Связи: `CONTAINS`, `CALLS`, `USES`, `DEPENDS_ON`
- Обеспечить производительность для больших модулей

## Критерии готовности
- [ ] Настроена интеграция с BSL Parser
- [ ] Реализован AST Visitor для обхода синтаксического дерева
- [ ] Созданы модели для представления кода
- [ ] Реализована выгрузка в NebulaGraph
- [ ] Связаны объекты кода с объектами метаданных
- [ ] Добавлены тесты для всех компонентов
- [ ] Проверена работа на реальных модулях 1С
- [ ] Оптимизирована производительность для больших модулей

## Зависимости
- Существующая система метаданных с NebulaGraph

## Оценка трудозатрат
- 4-5 дней

## Ответственный
- TBD

## Приоритет
- Высокий (основа для дальнейшего анализа кода)
